<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Blog Layout</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/navbar.css">
    <link rel="stylesheet" type="text/css" href="css/shop.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/blog.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <!--script type="text/javascript" src='js/navbar.js'></script-->
</head>
<style type="text/css">
.controlPanel {
    margin-top: 15px;
    width: 100%;
    height: 0px;
    background-color: rgba(0, 0, 0, 0);
    clear: both;
    -webkit-animation: GROWUP 2s ;
    /* Safari 4+ */
    -moz-animation: GROWUP 2s ;
    /* Fx 5+ */
    -o-animation: GROWUP 2s ;
    /* Opera 12+ */
    animation: GROWUP 2s ;
    /* IE 10+, Fx 29+ */
}

@-webkit-keyframes GROWUP {
    0% {
        height: 0px;
    }
    100% {
        height: 50px;
    }
}

@-moz-keyframes GROWUP {
    0% {
        height: 0px;
    }
    100% {
        height: 50px;
    }
}

@-o-keyframes GROWUP {
    0% {
        height: 0px;
    }
    100% {
        height: 50px;
    }
}

@keyframes GROWUP {
    0% {
        height: 0px;
    }
    100% {
        height: 50px;
    }
}
</style>

<body style="background-color: #f2f2f2">
    <h1 class="text-center">Component Test Bed</h1>
    <div class="container-fluid" style="min-height: 100%" class="clearfix">
        <div class="col-md-12 blog-excerpt" style="background-color : #fff; height: 100%">
            <li class="post clearfix" id=1 style="postion:relative">
                <div class="block clearfix">
                    <div class="col-md-10">
                        <span class="post-title"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sodales orci nec volutpat semper. Nulla a gravida ligula, a commodo lectus. Phasellus lacinia, eros sit amet rutrum accumsan, risus magna ornare metus, id elementum ipsum eros at elit. Mauris venenatis dui quis erat tincidunt, in ornare lectus blandit</span>
                        <div class="timestamp">
                            2015-09-01
                        </div>
                        <div class="excerpt desc">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sodales orci nec volutpat semper. Nulla a gravida ligula, a commodo lectus. Phasellus lacinia, eros sit amet rutrum accumsan, risus magna ornare metus, id elementum ipsum eros at elit. Mauris venenatis dui quis erat tincidunt, in ornare lectus blandit. Quisque non tellus et mauris ultricies consectetur vel sit amet nibh. Donec facilisis velit nec dui ullamcorper feugiat. Sed arcu velit, fringilla a risus et, aliquam consectetur massa. Aliquam consectetur ut elit vel ullamcorper
                        </div>
                    </div>
                    <div class="col-md-2 col-lg-2">
                        <img src="img/Products/product3.jpg" class="img-responsive center-block">
                    </div>
                </div>
            </li>
            <li class="post clearfix" id=2 style="postion:relative">
                <div class="block clearfix">
                    <div class="col-md-10">
                        <span class="post-title"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sodales orci nec volutpat semper. Nulla a gravida ligula, a commodo lectus. Phasellus lacinia, eros sit amet rutrum accumsan, risus magna ornare metus, id elementum ipsum eros at elit. Mauris venenatis dui quis erat tincidunt, in ornare lectus blandit</span>
                        <div class="timestamp">
                            2015-09-01
                        </div>
                        <div class="excerpt desc">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sodales orci nec volutpat semper. Nulla a gravida ligula, a commodo lectus. Phasellus lacinia, eros sit amet rutrum accumsan, risus magna ornare metus, id elementum ipsum eros at elit. Mauris venenatis dui quis erat tincidunt, in ornare lectus blandit. Quisque non tellus et mauris ultricies consectetur vel sit amet nibh. Donec facilisis velit nec dui ullamcorper feugiat. Sed arcu velit, fringilla a risus et, aliquam consectetur massa. Aliquam consectetur ut elit vel ullamcorper
                        </div>
                    </div>
                    <div class="col-md-2 col-lg-2">
                        <img src="img/Products/product3.jpg" class="img-responsive center-block">
                    </div>
                </div>
            </li>
            <li class="post clearfix" id=3 style="postion:relative">
                <div class="block clearfix">
                    <div class="col-md-10">
                        <span class="post-title"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sodales orci nec volutpat semper. Nulla a gravida ligula, a commodo lectus. Phasellus lacinia, eros sit amet rutrum accumsan, risus magna ornare metus, id elementum ipsum eros at elit. Mauris venenatis dui quis erat tincidunt, in ornare lectus blandit</span>
                        <div class="timestamp">
                            2015-09-01
                        </div>
                        <div class="excerpt desc">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sodales orci nec volutpat semper. Nulla a gravida ligula, a commodo lectus. Phasellus lacinia, eros sit amet rutrum accumsan, risus magna ornare metus, id elementum ipsum eros at elit. Mauris venenatis dui quis erat tincidunt, in ornare lectus blandit. Quisque non tellus et mauris ultricies consectetur vel sit amet nibh. Donec facilisis velit nec dui ullamcorper feugiat. Sed arcu velit, fringilla a risus et, aliquam consectetur massa. Aliquam consectetur ut elit vel ullamcorper
                        </div>
                    </div>
                    <div class="col-md-2 col-lg-2">
                        <img src="img/Products/product3.jpg" class="img-responsive center-block">
                    </div>
                </div>
            </li>
            <li class="post" id=4 style="postion:relative">
                <div class="block">ABC</div>
            </li>
        </div>
    </div>
    <template id="ControlPanel">
        <div class="controlPanel col-md-10" style="text-align: center;">
            <button type="button" class="btn btn-default">Default</button>
            <button type="button" class="btn btn-default">Default</button>
        </div>
    </template>
</body>
<script type="text/javascript">
$(document).ready(function() {
    // Make collection of emlements with class block        
    var blocks = document.querySelectorAll('.block');
    for (var i = 0; i < blocks.length; i++) {
        blocks[i].addEventListener('mouseover', function() {
            addControlPanel(this);
        }, false);
        blocks[i].addEventListener('mouseout', function(_event) {
            removeControlPanel(_event, this);
        }, false);
    }

})

function addControlPanel(el) {
    // console.log('add',el);
    if (isChildElementExisted(el, '.' + 'controlPanel') == true) {
        return;
    }
    var template_content = document.querySelector('#ControlPanel').content;
    el.appendChild(document.importNode(template_content, true));
    // adding class for controlPanel
    var controlPanel = el.querySelector('.controlPanel');
    // controlPanel.classList.add('show');
    // console.log(el.getAttribute('id'));
    controlPanel.addEventListener("animationend", function(){
        console.log(this);
        this.style.height = "50px";
    }, false);
}

function removeControlPanel(e, el) {
    // console.log('remove: ', el);
    var controlPanel = el.querySelector('.' + 'controlPanel');
    if (mouseTracking(e, el) == true) {
        el.removeChild(controlPanel);
    }

}

function isChildElementExisted(parent, child) {
    if (parent.querySelectorAll(child).length > 0) {
        return true;
    }
    return false;
}

var mouse = {
    x: 0,
    y: 0
};

function mouseTracking(e, el) {
    mouse.x = e.clientX || e.pageX;
    mouse.y = e.clientY || e.pageY;
    var containerRectangle = el.getBoundingClientRect();

    if (mouse.x > containerRectangle.left && mouse.x < containerRectangle.right &&
        mouse.y > containerRectangle.top && mouse.y < containerRectangle.bottom) {
        // Mouse is inside container.
        return false;
    } else {
        // Mouse is outside container.
        return true;
    }
}
</script>

</html>
